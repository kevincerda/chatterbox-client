<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>chatterbox</title>
    <link rel="stylesheet" href="styles/styles.css">

    <!-- dependencies -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <script>
      // YOU DO NOT NEED TO EDIT THIS CODE
      if (!/(&|\?)username=/.test(window.location.search)) {
        var newSearch = window.location.search;
        if (newSearch !== '' & newSearch !== '?') {
          newSearch += '&';
        }
        newSearch += 'username=' + (prompt('What is your name?') || 'anonymous');
        window.location.search = newSearch;
      }
    </script>
    <!-- your scripts -->
    <script src="env/config.js"></script>
    <script src="scripts/app.js"></script>
  </head>
  <body>
    <div id="main">
      <h1>chatterbox</h1>
      <br />
      <div id="roomId">You are in: lobby</div>
      <br />
      <div>
      <input type="text" id="newRoom">
      <input class="submitRoom" type="submit" id="sendNewRoom" value="Create new room"></input>
      </div>
      <br />
      <div id="roomDropdown" class="dropdown">
        <button onclick="showRooms()" id="roomSelect" type="button" class="dropbtn">Room List</button>
        <div id="roomList" class="drop-content">
        </div>
      </div>
      <div id="friendDropdown" class="dropdown2">
        <button onclick="showFriends()" id="friendSelect" type="button" class="dropbtn">Friend List</button>
        <div id="friendList" class="drop-content">
        </div>
      </div>
      <div id="addFriend"></div>
      <div>
      <div id="chats"></div>
      <input type="text" id="message">
      <input class="submit" type="submit" id="send"></input>
      <br />
      </div>
    </div>
        <script>
        $("#message").keyup(function(event) {
          event.keyCode === 13 && $(".submit").click();
        });
        $(".submit").click(function() {
          let message = $("#message").val();
          app.handleSubmit(message);
          $("#message").val('');
        });
        $(".submitRoom").click(function() {
          var room = $("#newRoom").val();
          app.createRoom(room);
          app.chooseRoom(room);
          $("#newRoom").val('');
        });
        // $(".username").click(function() {
        //   console.log('this: ', this);
        //   app.handleUsernameClick();
        // });
      </script>
  </body>
</html>
